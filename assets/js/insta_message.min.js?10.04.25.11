var base_url=$("#js_data").data("base_url");function editText(e){$(".edit-text").show();$(".main-input-text").hide();$(".main-input-text,.date-info-icon").hide();e.hide();e.parents(".input-main-div").find(".main-input-text,.date-info-icon").show().select()}function likebtn(e){var a=$(e).data("num");$(e).toggleClass("active");if($(e).hasClass("active")){$(e).html('<i class="fa fa-heart" aria-hidden="true"></i>');$("#message-box-num"+a).find(".message-like").attr("onclick",'$(".btn'+a+'").click()');$("#message-box-num"+a).find(".message-like").removeClass("hide");$("#message-box-num"+a).find(".message-like").addClass("show");$("#message-box-num"+a).addClass("like")}else{$(e).html('<i class="fa fa-heart-o" aria-hidden="true"></i>');$("#message-box-num"+a).find(".message-like").removeAttr("onclick");$("#message-box-num"+a).find(".message-like").addClass("hide");$("#message-box-num"+a).find(".message-like").removeClass("show");$("#message-box-num"+a).removeClass("like")}}function seenbtn(e){var a=$(e).data("num");$(e).toggleClass("active");$(e).hasClass("active")?$("#message-box-num"+a).find(".message-footerItem").removeClass("hide"):$("#message-box-num"+a).find(".message-footerItem").addClass("hide")}function deletebtn(e){confirm("Are you sure you want to delete this message?")&&$("#message-box-num"+e).remove()}function verifybtn(e){var a=$(e).data("num");$(e).toggleClass("active");if($(e).hasClass("active")){$(e).html('<i class="fa fa-check-circle" aria-hidden="true"></i>');$("#message-box-num"+a).find(".insta-verify-icon").removeClass("hide")}else{$(e).html('<i class="fa fa-check-circle-o" aria-hidden="true"></i>');$("#message-box-num"+a).find(".insta-verify-icon").addClass("hide")}}$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();$("input[name='visibleforLayout']").on("click",function(e){if("iphone"==$(this).val()){$(".d_layout").addClass("iphone");$(".d_layout").removeClass("android")}if("android"==$(this).val()){$(".d_layout").addClass("android");$(".d_layout").removeClass("iphone")}});$("#view_profile").click(function(){$(this).prop("checked")?jQuery(".profile-container").removeClass("hide"):jQuery(".profile-container").addClass("hide")});$("#v_bagde").click(function(){$(this).prop("checked")?jQuery(".profile-verify-icon").removeClass("hide"):jQuery(".profile-verify-icon").addClass("hide")});$(".message-date-input").hide();$("#chat_date").change(function(){"otherdate"==$(this).val()?$(".message-date-input").show():$(".message-date-input").hide()});$("#profile_follow").change(function(){if("bothfollow"==this.value){jQuery(".youdontfollow").addClass("hide");jQuery(".youfollow").removeClass("hide");jQuery(".bothunfollow").addClass("hide");jQuery(".rustatustxt").addClass("hide")}else if("youdontfollow"==this.value){jQuery(".youdontfollow").removeClass("hide");jQuery(".youfollow").addClass("hide");jQuery(".bothunfollow").addClass("hide");jQuery(".rustatustxt").removeClass("hide")}else if("youfollow"==this.value){jQuery(".youdontfollow").addClass("hide");jQuery(".youfollow").addClass("hide");jQuery(".bothunfollow").removeClass("hide");jQuery(".rustatustxt").removeClass("hide")}else if("bothunfollow"==this.value){jQuery(".youdontfollow").addClass("hide");jQuery(".youfollow").addClass("hide");jQuery(".bothunfollow").removeClass("hide");jQuery(".rustatustxt").removeClass("hide")}});$(".edit-text").on("click",function(e){editText($(this))});$(document).click(function(e){if(!$(e.target).is(".input-main-div,.input-main-div *")){$(".edit-text").show();$(".main-input-text,.date-info-icon").hide();$(".main-input-text").keyup(function(e){$(this).val(remvoeBadWord($(this).val()));a($(this),e)})}});$("#bt_per").click(function(){$(this).is(":checked")?$(".battery-container").removeClass("hide-percentage"):$(".battery-container").addClass("hide-percentage")});$("#battery_options").change(function(){$(".battery-container").removeClass("battery-horizontal battery-vertical-one battery-vertical-two");$(".battery-container").addClass($(this).val())});$("#networ_speed").change(function(){$(".show-network").removeClass("n5g n4g n3g n2g nwifi");$(".show-network").addClass($(this).val())});function a(e,a){if(10==a.which){$(".edit-text").show();$(".main-input-text,.date-info-icon").hide()}else{var a="",s=text1=e.val(),t=s.length;12<t?e.hasClass("insmessage-input")?a+=text1:a+=text1.substr(0,9)+"...":e.hasClass("reel-profile-input")?a+=18<t?text1.substr(0,15)+"...":text1:a+=text1;if("date"==($nameClass=e.data("class")).replace(/[0-9]/g,"")){if(""!=s&&s.match(date_regex)){$("."+$nameClass+"-text").text(s);$("."+$nameClass+"-input").val(s);idate="Today"!=s&&"Yesterday"!=s?getIdate(new Date(s)):s;$(".iphone-"+$nameClass+"-text").text(idate);$(".iphone-"+$nameClass+"-input").val(idate)}}else{$("."+$nameClass+"-text").text(a);$("."+$nameClass+"-input").val(a)}}}$(".main-input-text").keyup(function(e){$(this).val(remvoeBadWord($(this).val()));a($(this),e)});$("#profile-img").on("change",function(){var e=this,a=$(e).val().split(".").pop();if("jpg"==a.toLowerCase()||"jpeg"==a.toLowerCase()||"png"==a.toLowerCase()||"svg"==a.toLowerCase())if(e.files&&e.files[0]){$("#crop-profile").attr("style","width: 265px; height: 155px;");$("#crop-profile").removeClass("hide");$(".img-profile-main-tag").addClass("hide");a=new FileReader;a.onload=function(e){s.croppie("bind",{url:e.target.result}).then(function(){})};a.readAsDataURL(e.files[0]);$("#crop-profile-modal").modal("show")}else{$(e).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{$(e).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}});var s;s=$("#crop-profile").croppie({viewport:{width:150,height:150,type:"circle"},showZoomer:!0,enableExif:!1});$(".p-close-btn-modal").on("click",function(){$("#profile-img").val("");$("#crop-profile").addClass("hide");$(".img-profile-main-tag").removeClass("hide")});$(".btn-crop-profile").click(function(){s.croppie("result",{type:"canvas",size:"viewport"}).then(function(e){$(".insta_profile_pic_img").attr("src",e);$("#crop-profile-modal").modal("hide");$(".img-profile-main-tag").removeClass("hide");$("#crop-profile").addClass("hide");e=$("#js_data").data("base_url");$(".insta_privew_profile").attr("src",e+"assets/images/addimgbg.jpg");$("#profile-img").val("")})});$(".insta_chat_pro_img").on("change.bs.fileinput",function(e){e.stopPropagation();e=jQuery(".profile1 img").attr("src");jQuery(".modal-title-img.insta-img img").attr("src",e);jQuery(".insta-img.message-avatar img").attr("src",e)});$('#options input[type="text"], #options textarea').keyup(function(){if(e=$(this).attr("data-edit")){var e,a=$(this).val();""==a&&(a="...");if("likes"==(e=e.replace("edit-",""))&&"..."==a){$(".post_likes").css("display","none");$(".post_write_comment").css("display","none")}else if("likes"==e&&"..."!=a){$(".post_likes").css("display","block");$(".post_write_comment").css("display","block")}$(".text-"+e).html(a);"name"==e&&$(".theName").text(a)}});$('#options input[name="visibleOnline"]').change(function(){if($("input[name='visibleOnline']").prop("checked")){$(".live-time").hide();$(".insta-user-online").show()}else{$(".live-time").show();$(".insta-user-online").hide()}});$('#options input[name="visibleActive"]').change(function(){var e=$("input[name='visibleActive']:checked").val();if("Show"==e){$("#insta_text_Active").show();$(".live-time").show()}if("Hide"==e){$("#insta_text_Active").hide();$(".live-time").hide()}});$("#edit-tagname").keyup(function(){var e=$(this).val();$(".header-title").text("@"+e)});$("#edit-2-Clock").keyup(function(){var e=($("#time-format").prop("checked")?onTimeChangein24:onTimeChange)($(this).val());$(".status-time").text(e)});$("#edit-2-Clock").change(function(){var e=($("#time-format").prop("checked")?onTimeChangein24:onTimeChange)($(this).val());$(".status-time").text(e)});$("#time-format").change(function(){if($(this).prop("checked")){var e=onTimeChangein24($("#edit-2-Clock").val());$(".msg-time").each(function(e,a){$(this).text(onTimeChangein24($(this).data("time")))})}else{e=onTimeChange($("#edit-2-Clock").val());$(".msg-time").each(function(e,a){$(this).text(onTimeChange($(this).data("time")))})}$(".status-time").text(e)});$("input[type=radio][name=visibleforLayout]").change(function(){"android"==this.value?$(".battery-status").text($("#Battery_percent").val()+"%"):"iphone"==this.value&&$(".battery-status").text($("#Battery_percent").val())});$("#Battery_percent").keyup(function(){var e=$("#Battery_percent").val();(e=100<e?100:e)<0&&(e=0);$("#Battery_percent").val(e);$(".battery-level").css("width",e+"%");$("input#iphone_wp").is(":checked")?$(".battery-status").text(e):$(".battery-status").text(e+"%")});$("#edit-Status").keyup(function(){var e=$(this).val();$(".header-title").text(e)});$('#left-panel input[name="ch_rtl"]').change(function(){if("ltr"==$(this).val()){$("#download").css("direction","ltr");$("#download .pull-left").attr("style","float:left !important");$("#download .pull-right").attr("style","float:right !important");$(".ltr").show();$(".rtl").hide();$(".message-received .message-container").css({"margin-right":"auto","margin-left":"0","padding-right":"50px"});$(".message-received .message-avatar").css({right:"auto",left:"0"});$(".message-received .message-footer").css({"padding-left":"58px","padding-right":"50px"});$(".tw .message-sent .message-avatar").css({left:"auto",right:"0"});$(".message-sent .message-container").css({"margin-left":"auto","margin-right":"0"});$(".tw .message-sent .message-footer").css({float:"right","padding-left":"50px","padding-right":"58px"});$(".message-received .message-bubble").removeClass("Caret-right").addClass("Caret-left");$(".message-sent .message-bubble").removeClass("Caret-left").addClass("Caret-right");$(".modal-footer").css({"text-align":"right"});$(".tweet-action").css({"margin-left":"0px"})}else{$("#download .pull-left,#download .pull-right,.tweet-action,.modal-footer,.tw .message-sent .message-footer,.message-sent .message-container,.tw .message-sent .message-avatar,.message-received .message-container,.message-received .message-footer,.message-received .message-avatar").removeAttr("style");$("#download").css("direction","rtl");$(".rtl").show();$(".ltr").hide();$(".message-received .message-bubble").removeClass("Caret-left").addClass("Caret-right");$(".message-sent .message-bubble").removeClass("Caret-right").addClass("Caret-left")}});$("#visiblefooter").click(function(){e()});$("#visibleheadre").click(function(){e()});$("button").click(function(){e()});function e(){if($(".right-part").hasClass("desktop_view")){$("input#visiblefooter").is(":checked")?$(".insta-chat-footer").hide():$(".insta-chat-footer").show();$(".all_header_wp").hide()}else{$("input#visiblefooter").is(":checked")?$(".insta-chat-footer").hide():$(".insta-chat-footer").show();$("input#visibleheadre").is(":checked")?$(".all_header_wp").hide():$(".all_header_wp").show()}}$("#visibleStory").click(function(){$("input#visibleStory").is(":checked")?$(".modal-title-img").addClass("visibleStory"):$(".modal-title-img").removeClass("visibleStory")});$("#Chat-Like").click(function(){if($("input#Chat-Like").is(":checked")){$(".message-received:last-child .user_unlike_msg_send").hide();$(".message-received:last-child .user_like_msg_send").show();$(".message-received:last-child .insta-last").addClass("user_like_rad");$(".message-received:last-child .insta-last").removeClass("insta-last")}else{$(".message-received:last-child .user_unlike_msg_send").show();$(".message-received:last-child .user_like_msg_send").hide()}});$("#visibleOnline").click(function(){$("input#visibleOnline").is(":checked")?$(".online_insta_img").addClass("active-fb"):$(".online_insta_img").removeClass("active-fb")});$("#edit-tagname").keyup(function(){var e=$(this).val();$(".header-title").text("@"+e)});$(".ista_chat_pro_img").on("change.bs.fileinput",function(e){e.stopPropagation();e=jQuery(".profile1 img").attr("src");jQuery(".modal-title-img.insta-img img").attr("src",e);jQuery(".insta-img.message-avatar img").attr("src",e)})});$(".message-date-input").keyup(function(e){$dateVal=$(this).val();if(""!=$dateVal&&$dateVal.match(/^(Today|Yesterday|(0?[1-9]|[12][0-9]|3[01])\s(January|February|March|April|May|June|July|August|September|October|November|December)\s\d{4})$/)){$idateVal="Today"!=$dateVal&&"Yesterday"!=$dateVal?getIdate(new Date($dateVal)):$dateVal;$boxId=$(".message-box-id").val();if(0<$(".date-label.new").length){$(".date-label.new").find(".edit-text span.date-text").html($dateVal);$(".date-label.new").find(".edit-text span.iphone-date-text").html($idateVal);$(".date-label.new").find(".main-input-text.date").val($dateVal);$(".date-label.new").find(".main-input-text.iphone-date").val($idateVal)}else{var a=$("#iphone_wp").prop("checked")?'style="display:none"':'style="display: block;"',s=$("#android_wp").prop("checked")?'style="display:none"':'style="display: block;"';$lableNum=Number($(".lable-box-num").val())+1;$dateLabel=""!=$dateVal.trim()?'<div class="date-label input-main-div darg-icon new"><p class="text-name d-flex align-items-center m-0 edit-text" onclick="editText($(this));"><span class="date-text date'+$lableNum+'-text" '+a+">"+$dateVal+'</span><span class="iphone-date-text iphone-date'+$lableNum+'-text" '+s+">"+$idateVal+'</span><i class="fa fa-pencil" aria-hidden="true"></i><span class="btn-remove" onclick="deleteDate($(this))"><i class="fa fa-times-circle" aria-hidden="true"></i></span></p><div class="info-wrap p-0"><input class="text-name wp-head-name main-input-text date date'+$lableNum+'-input check-bad-word" data-class="date'+$lableNum+'" value="'+$dateVal+'"><span class="tooltip-info date-info-icon" data-toggle="tooltip" data-tooltip-title="The date format should be like this: (“26 November 2003”), Make sure the first letters of “Today”, “Yesterday”, and “Month Name” are capitalized."><i class="fa fa-info-circle" aria-hidden="true"></i></span></div></div>':"";if(""!=$boxId){$id="#message-box"+$boxId;$($dateLabel).insertBefore($id)}else $("#mainbodydiv").append($dateLabel);$(".lable-box-num").val($lableNum)}}});$(".pro_mag_send").click(function(){var e=$("#js_data").data("base_url");jQuery(".insta-last").html("");jQuery(".message-footer").addClass("insta-message-footer");jQuery(".message-received:last-child .message-footer").addClass("insta-last");jQuery(".message.message-received.is-not:last-child .message-footer").html('<div class="message-footerinsta-message-footer"><span class="message-footerItem user_unlike_msg_send"><img src="'+e+'/assets/images/insta-message-unlike.png"> Double-tap to like</span><span class="user_like_msg_send" style="display:none"><img src="'+e+'/assets/images/insta-message-like.png"><div class="person-2-img like_img_send"><img class="" src="'+e+'/assets/images/profile.jpg"></div></span></div>')});$('input[name="message-send-type"]').click(function(){"Receive"==$(this).val()?$(".msg_seen_option").addClass("hide"):$(".msg_seen_option").removeClass("hide")});$(".ins-send-btn").click(function(){$messageText=$(".message-input").val();$messageTime=onTimeChange($(".message-time-input").val());$messageImage=$(".hidden-message-image").val();$messageSendType=$("input[name='message-send-type']:checked").val();$messageBoxId=$(".message-box-id").val();$reelprofiletext=$("#reelprofiletext").val();$reelimagetext=$("#reelimagetext").val();$rverifyprofle=$("input[name='rverifyprofle']:checked").val();$rsavepost=$("input[name='rsavepost']:checked").val();$reelimage=$("#reelimage").val();$postimage=$("#postimage").val();$postdescription=$("#postdescription").val();$verifyprofle=$("input[name='verifyprofle']:checked").val();$savepost=$("input[name='savepost']:checked").val();$multiplepost=$("input[name='multiplepost']:checked").val();$postprofilename=$("#postprofilename").val();if("otherdate"==$("#chat_date").val()){var e=$(".message-date-input").val().split("-"),a=(parseInt(e[0]),parseInt(e[1])),e=parseInt(e[2]);$messageDate=e+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a-1]}else $messageDate=$("#chat_date").val();console.log($messageDate);$flag=0;if(""==$messageText.trim()&&""==$messageImage){$(".message-input").addClass("error");$flag++}else $(".message-input").removeClass("error");if(""==$messageTime.trim()){$(".message-time-input").addClass("error");$flag++}else $(".message-time-input").removeClass("error");if(""!=$messageDate&&$messageDate.match(/^(Today|Yesterday|(0?[1-9]|[12][0-9]|3[01])\s(January|February|March|April|May|June|July|August|September|October|November|December)\s\d{4})$/)){$messageDate;$(".message-date-input").removeClass("error");$(".error-msg").html("").hide()}if(0==$flag){$messageSendType="Receive"==$messageSendType?"receive":"sent";$msg_seen=$("input[name='msg_seen']:checked").val();$msg_like=$("input[name='msg_like']:checked").val();$postimage=$("input[name='setimage']:checked").val();$tabname="text";$("#text_msg").hasClass("active")?$tabname="text":$("#post_msg").hasClass("active")?$tabname="post":$("#reel_msg").hasClass("active")&&($tabname="reel");e=getMessageBoxHtml($data={message_box_id:$messageBoxId,message_text:$messageText,message_time:$messageTime,message_send_type:$messageSendType,message_image:$messageImage,message_date:$messageDate,msg_seen:$msg_seen,msg_like:$msg_like,tabname:$tabname,reelprofiletext:$reelprofiletext,reelimagetext:$reelimagetext,rverifyprofle:$rverifyprofle,rsavepost:$rsavepost,reelimage:$reelimage,postimage:$postimage,postdescription:$postdescription,verifyprofle:$verifyprofle,savepost:$savepost,multiplepost:$multiplepost});$(".instachat-body").append(e);$(".close-btn").click()}else console.log("else")});function getImagePath(e,a){e=e.val().split(".").pop();if("jpg"!=e.toLowerCase()&&"jpeg"!=e.toLowerCase()&&"png"!=e.toLowerCase()&&"svg"!=e.toLowerCase())return"error";function s(e){i=e}var t,e=a.target.files,i="";if(e&&0<e.length){a=e[0];URL&&s(URL.createObjectURL(a));if(FileReader){(t=new FileReader).onload=function(e){s(t.result)};t.readAsDataURL(a)}}return i}$("input[name='message-image-input']").on("change",function(e){e.stopPropagation();if("error"==($img_src=getImagePath($(this),e))){jQuery(".file-preview-opt").hide();$(this).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{e=$img_src;jQuery(".fileinput-new").hide();jQuery(".file-preview-opt").show();jQuery(".file-exists").show();jQuery(".file-preview").html("<img height='100'  src='"+e+"'>");jQuery(".hidden-message-image").val(e)}});$("input[name='postimage_upload']").on("change",function(e){e.stopPropagation();if("error"==($img_src=getImagePath($(this),e))){$(this).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{e=$img_src;jQuery(".fileinput-new").hide();jQuery(".file-exists").show();jQuery(".preview-post-img").attr("src",e);jQuery(".hidden-message-image").val(e)}});$("input[name='reelimage_upload']").on("change",function(e){e.stopPropagation();if("error"==($img_src=getImagePath($(this),e))){$(this).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{e=$img_src;jQuery(".fileinput-new").hide();jQuery(".file-exists").show();jQuery(".preview-reel-img").attr("src",e);jQuery(".hidden-message-image").val(e)}});function addComment(e){$("#js_data").data("base_url");var a=like_img=class_name=like_img1=class_name1="";if($("input[name='read'][value='read']").prop("checked")){$(".message-footer").html("");a="Seen"}$("input[name='read'][value='unread']").prop("checked")&&(a="");if($("input[name='Chat-Like']").prop("checked")){$(".message-footer").html("");like_img='<div class="message-like" style="display:block"></div>';class_name="message-liked"}else{class_name="";like_img=""}if($("input[name='Chat-Like1']").prop("checked")){like_img1='<div class="message-like" style="display:block"></div>';class_name1="message-liked"}else{class_name1="";like_img1=""}var s,t,i="",i=(null==$(".profile1 img").attr("src")?$(".profile_1 img"):$(".profile1 img")).attr("src"),l=$("textarea#"+e+"_message").val();$("input#"+e+"_date").val();if("ltr"==$('#left-panel input[name="ch_rtl"]:radio:checked').val()){rtl_r_av=' style="right: auto;  left: 0;"';rtl_r_m=' style="margin-right: auto; margin-left: 0; padding-right: 50px"';rtl_r_mf=' style="padding-left: 58px; padding-right: 50px"';rtl_s_av=' style="right: 0;  left: auto;"';rtl_s_m=' style="margin-left: auto; margin-right: 0"';rtl_s_mf=' style="float: right; padding-left: 50px; padding-right: 58px"'}else rtl_r_av=rtl_s_av=rtl_r_m=rtl_r_mf=rtl_s_m=rtl_s_mf="";"profile1"==e?(s="received",t="left"):"profile2"==e&&(s="sent",t="right");e="",e=$("input#visibleOnline").is(":checked")?"active-fb":"";if(""<l){for(var n="",o=0;o<bad.length;o++)0<l.search(bad[o])&&(n=bad[o]);var r=l.replace(n,""),d="",d=hasWhiteSpace(r)?"<p>"+r+"<p>":'<p style="word-break:break-all;">'+r+"<p>",m=(r="received"==s?'<div class="message message-received '+class_name1+' is-not"><div class="message-container insta-table u-table"'+rtl_r_m+'><div class="insta-img message-avatar"'+rtl_r_av+'><img src="'+i+'" class="img-rounded"><div class="online_insta_img '+e+'"></div></div><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-'+t+'"><div class="message-text insta-text">'+d+"</div></div>"+like_img1+'</div></div><div class="message-footer"'+rtl_r_mf+'><span class="message-footerItem"></span></div><div class="clearfix"></div></div>':'<div class="message message-sent '+class_name+' is-not"><div class="message-container insta-table insta-sent-table u-table"'+rtl_s_m+'><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-'+t+'"><div class="message-text insta-text insta-sent">'+d+"</div></div>"+like_img+'</div></div><div class="message-footer insta-message-footer"'+rtl_s_mf+'><span class="message-footerItem">'+a+'</span></div><div class="clearfix"></div></div>',$(r).hide());$(".modal-body").append(m);0<$(".modal-body .remove").length?$(".modal-body .remove").fadeTo(250,0,function(){$(".modal-body .remove").remove();m.fadeIn(500)}):m.fadeIn(500);return!1}}function postChangeOrUpload(e,a){a.stopPropagation();$img_src=getImagePath(e,a);$imgTag=e.parents(".insta-gallery-image").find("img");console.log($img_src);if("error"==$img_src){e.val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else $imgTag.attr("src",$img_src)}function removeDiv(e){$(e).parent("div").remove()}function getMessageBoxHtml(e){$("#js_data").data("base_url");var a="receive"==e.message_send_type?"received":"sent",s="sent"==e.message_send_type?"left":"right",t="sent"==e.message_send_type?"insta-sent":"",i=(e.message_send_type,""!=e.message_text?e.message_text:""),l="seen"==e.msg_seen&&"sent"==a?"show":"hide",n="like"==e.msg_like?"show":"hide",o=($num=Number($(".message-box-num").val()),"receive"==e.message_send_type?'<div class="message-avatar insta-img insta-received"><label class="input-img"><img src="'+$(".insta_profile_pic_img").attr("src")+'" class="insta_profile_pic_img" alt="Profile"></label><div class="active-fb online_insta_img"></div></div>':""),r="video"==e.postimage?'<div class="video-pause instextmsg'+($num+1)+'-icon"><i class="fa fa-play" aria-hidden="true"></i></div>':" ",d="None"!=e.message_date?'<div class="date-container input-main-div"><p class="text-center edit-text text-gray" onclick="editText($(this));"><span class="chattime'+($num+1)+'-text">'+e.message_date+", "+e.message_time+'</span><i class="fa fa-pencil" aria-hidden="true"></i></p><input type="text" class="main-input-text chattime'+($num+1)+'-input check-bad-word insmessage-input" value="'+e.message_date+" "+e.message_time+'" data-class="chattime'+($num+1)+'" style="display: none;"><button class="remove" onclick="removeDiv(this)"><i class="fa fa-times-circle" aria-hidden="true"></i></button></div>':"",m=replymsgText=replymsgText1="";if(""!=$(".temp-reply-box").html().trim()){$t="";if("sent"==$(".temp-reply-box .fb-msg-reply").data("sender-type")&&"sent"==a){$t="Replied to yourself";$cls_clr="sender-clr"}else if("received"==$(".temp-reply-box .fb-msg-reply").data("sender-type")&&"sent"==a){$t="You replied";$cls_clr="received-clr"}else if("sent"==$(".temp-reply-box .fb-msg-reply").data("sender-type")&&"received"==a){$t="Replied to you";$cls_clr="sender-clr"}else if("received"==$(".temp-reply-box .fb-msg-reply").data("sender-type")&&"received"==a){$t="Replied to themselves";$cls_clr="received-clr"}if("text"==$(".temp-reply-box .fb-msg-reply").data("t"))replymsgText+='<div class="replay-message '+$cls_clr+'"><p class="re-msg">'+$(".temp-reply-box .reply-msg-text").text()+"</p></div>";else if("photo"==$(".temp-reply-box .fb-msg-reply").data("t")){icon=$(".temp-reply-box .fb-reply-img .video-pause").html();$icon=""!=icon&&null!=icon?'<div class="video-pause">'+icon+"</div>":"";replymsgText+='<div class="replay-message '+$cls_clr+'"><div class="msg-image"><img class="msg-img" src="'+$(".temp-reply-box .fb-reply-img img").attr("src")+'" alt="step 2" height="480" width="600" loading="lazy">'+$icon+"</div></div>"}else replymsgText+='<div class="replay-message '+$cls_clr+'"><div class="reply-post post-reel">'+$(".temp-reply-box .temp-reply-div").html()+"</div></div>";replymsgText1+='<div class="reply-msg-sec"><span>'+$t+"</span></div>";m="message-reply-box"}if("text"==e.tabname){if(($image="")!=e.message_image){var p=e.message_image;$image='<div id="message-box-num'+($num+1)+'"   class="message message-'+a+" gallery-img "+m+'">'+replymsgText1+" "+replymsgText+'<div class="message-container u-table insta-sent-table">'+o+'<div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-'+s+'"><div class="msg-image insta-gallery-image"><img class="msg-img instextmsg'+($num+1)+'-image" src="'+p+'" /><div class="modal-title-img"><label class="input-img"><i class="fa fa-pencil" aria-hidden="true"></i><input type="file" name="post-img" onchange="postChangeOrUpload($(this),event);"></label></div>'+r+'</div><div class="message-share" onclick="replyMsg('+($num+1)+", `"+a+'`, `photo`)"><span class="send-post"></span></div><button data-num="'+($num+1)+'" class="like-btn btn-remove btn'+($num+1)+'" onclick="likebtn($(this));"><i class="fa fa-heart-o" aria-hidden="true"></i></button><div class="message-like '+n+'"></div> <div class="pop-editer"><button class="delete-btn btn-remove" onclick="deletebtn('+($num+1)+');" data-num="'+($num+1)+'"><i class="fa fa-trash"></i></button></div></div></div></div><div class="message-footer insta-message-footer '+l+'"><span class="message-footerItem " data-num="'+($num+1)+'">Seen</span></div><div class="add-space btn-remove"></div></div>';$(".message-box-num").val($num+1)}$num=Number($(".message-box-num").val());if(($msg="")!=i){$msg='<div id="message-box-num'+($num+1)+'" class="message message-'+a+" message-liked "+m+'">'+replymsgText1+" "+replymsgText+'<div class="message-container u-table insta-table">'+o+'<div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-'+s+' input-main-div"><textarea class="text-name insta-text main-input-text insmessage-input instextmsg'+($num+1)+'-input check-bad-word" data-class="instextmsg'+($num+1)+'" style="display: none;">'+i+'</textarea><div class="message-text insta-text edit-text '+t+'" onclick="editText($(this));"><p class="instextmsg'+($num+1)+'-text">'+i+'</p><i class="fa fa-pencil" aria-hidden="true"></i></div><button data-num="'+($num+1)+'" class="like-btn btn-remove btn'+($num+1)+'" onclick="likebtn($(this));"><i class="fa fa-heart-o" aria-hidden="true"></i></button><div class="message-share btn-remove" onclick="replyMsg('+($num+1)+", `"+a+'`, `text`)"><span class="send-post"></span></div></div><div class="message-like '+n+'"></div><div class="pop-editer"><button class="delete-btn btn-remove" onclick="deletebtn('+($num+1)+');" data-num="'+($num+1)+'"><i class="fa fa-trash"></i></button></div></div></div><div class="message-footer insta-message-footer '+l+'"><span class="message-footerItem " data-num="'+($num+1)+'">Seen</span></div><div class="add-space btn-remove"></div></div>';$(".message-box-num").val($num+1)}html=$msg+$image}else if("post"==e.tabname){r="mpost"==e.multiplepost?"show":"hide",s="spost"==e.savepost?"active":"",t="vprofle"==e.verifyprofle?"":"hide",l="seen"==e.msg_seen&&"sent"==a?"show":"hide";html='<div id="message-box-num'+($num+1)+'" class="message message-'+a+" message-liked post-reel "+m+'">'+replymsgText1+" "+replymsgText+'<div class="message-container u-table insta-sent-table">'+o+'<div class="message-message u-tableCell u-alignBottom"><div class="caret-post-reel post-'+($num+1)+'"><div class="message-hed"><label class="input-img post-porfile"><i class="fa fa-pencil" aria-hidden="true"></i><img class="post-user-porfile"  id="postprofile_upload" src="'+$(".preview-profile").attr("src")+'" alt="Profie image"><input type="file" name="post-user-img" data-box_num="'+($num+1)+'" onchange="getTempImage(this)"></label><div class="post-user-name input-main-div" ><span class="edit-text" onclick="editText($(this));"><span class="post-profile-name postproname'+($num+1)+'-text">'+$("#postprofilename").val()+'</span><i class="fa fa-pencil" aria-hidden="true"></i></span><input class="text-name main-input-text  postproname'+($num+1)+'-input check-bad-word" data-class="postproname'+($num+1)+'" value="'+$("#postprofilename").val()+'" style="display: none;" ><span class="ml-1 ins-img-icon insta-verify-icon '+t+'"></span></div></div><div class="message-img insta-gallery-image"><img src="'+$(".preview-post-img").attr("src")+'" alt="Post Image"><div class="modal-title-img"><label class="input-img"><i class="fa fa-pencil" aria-hidden="true"></i><input type="file" value="Image Button" class="img-input" name="postimg" id="post-img" onchange="postChangeOrUpload($(this),event);"></label></div><span class="ins-img-icon ins-multipost-icon '+r+'"></span></div><div class="post-msg input-main-div"><p><strong class="post-profile-name postproname'+($num+1)+'-text">'+$("#postprofilename").val()+'</strong><span class="edit-text" onclick="editText($(this));"><span class="post-msg-text instextmsgpost'+($num+1)+'-text">'+$("#postdescription").val()+'</span><i class="fa fa-pencil" aria-hidden="true"></i></span></p><textarea class="text-name main-input-text insmessage-input instextmsgpost'+($num+1)+'-input" data-class="instextmsgpost'+($num+1)+'" style="display: none;">'+$("#postdescription").val()+'</textarea></div></div><div class="message-share" onclick="replyMsg('+($num+1)+", `"+a+'`, `post`)"><span class="send-post"></span><span class="save-post '+s+'"></span></div><button data-num="'+($num+1)+'" class="like-btn btn-remove btn'+($num+1)+'" onclick="likebtn($(this));"><i class="fa fa-heart-o" aria-hidden="true"></i></button><div class="message-like '+n+'"></div>';html+='<div class="pop-editer"><button class="delete-btn btn-remove" data-num="'+($num+1)+'" onclick="deletebtn('+($num+1)+');"><i class="fa fa-trash"></i></button><button class="verify-btn btn-remove" data-num="'+($num+1)+'" onclick="verifybtn($(this));"><i class="fa fa-check-circle-o" aria-hidden="true"></i></button></div></div></div><div class="message-footer insta-message-footer  '+l+'"><span class="message-footerItem" data-num="'+($num+1)+'">Seen</span></div><div class="add-space btn-remove"></div></div>';$(".message-box-num").val($num+1)}else if("reel"==e.tabname){p=e.message_image,i="spost"==e.rsavepost?"active":"",t="vprofle"==e.rverifyprofle?"":"hide";html='<div id="message-box-num'+($num+1)+'" class="message message-'+a+" post-reel "+m+'">'+replymsgText1+" "+replymsgText+'<div class="message-container u-table insta-sent-table">'+o+'<div class="message-message u-tableCell u-alignBottom"><div class="caret-post-reel post-'+($num+1)+'"><div class="reel-header"><label class="input-img post-porfile"><i class="fa fa-pencil" aria-hidden="true"></i><img class="post-user-porfile" id="postprofile_upload"  src="'+$(".reelprofile_preview").attr("src")+'" alt="Profie image"><input type="file" name="post-user-img" data-box_num="'+($num+1)+'" onchange="getTempImage(this)"></label><div class="post-user-name input-main-div"><span class="edit-text" onclick="editText($(this));"><span class="post-profile-name reelproname'+($num+1)+'-text">'+$("#reelprofiletext").val()+'</span><i class="fa fa-pencil" aria-hidden="true"></i></span><input class="text-name main-input-text reel-profile-input reelproname'+($num+1)+'-input check-bad-word" data-class="reelproname'+($num+1)+'" value="'+$("#postprofilename").val()+'" style="display: none;" ><span class="ins-img-icon insta-verify-icon '+t+'"></span></div></div><div class="reel-image insta-gallery-image"><span class="ins-img-icon reel-post"></span><img class="reel-img " src="'+$(".preview-reel-img").attr("src")+'" alt="reel Image"><div class="modal-title-img"><label class="input-img insta-gallery-image"><i class="fa fa-pencil" aria-hidden="true"></i><input type="file" name="post-img" onchange="postChangeOrUpload($(this),event);"></label></div></div></div><div class="message-share"  onclick="replyMsg('+($num+1)+", `"+a+'`, `reel`)"><span class="send-post"></span><span class="save-post '+i+'"></span></div><button data-num="'+($num+1)+'" class="like-btn  btn-remove btn'+($num+1)+'" onclick="likebtn($(this));"><i class="fa fa-heart-o" aria-hidden="true"></i></button>  <div class="message-like '+n+'"></div><div class="pop-editer"><button class="verify-btn btn-remove" data-num="'+($num+1)+'" onclick="verifybtn($(this));"><i class="fa fa-check-circle-o" aria-hidden="true"></i></button><button class="delete-btn btn-remove" data-num="'+($num+1)+'" onclick="deletebtn('+($num+1)+');"><i class="fa fa-trash"></i></button></div></div></div><div class="message-footer insta-message-footer '+l+'"><span class="message-footerItem " data-num="'+($num+1)+'">Seen</span></div><div class="add-space btn-remove"></div></div>';$(".message-box-num").val($num+1)}return d+html}function addImage(e){if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){$(".like_img_send").html($("<img src='' style='' width='34' height='34'>").attr("src",e.target.result).addClass("circular"))},a.readAsDataURL(e.files[0])}}function getTempImage(e){var a=$(e).data("box_num"),e=e.files[0];console.log(a);console.log(e);if(e){var s=new FileReader;s.onload=function(e){$("#message-box-num"+a).find(".post-user-porfile").attr("src",e.target.result)};s.readAsDataURL(e)}else $("#message-box-num"+a).find(".post-user-porfile").attr("src",base_url+"assets/images/insta-profile-pic.jpg")}$("#postprofile_upload").change(function(){var e=this.files[0];if(e){var a=new FileReader;a.onload=function(e){$(".postprofile_preview").attr("src",e.target.result)};a.readAsDataURL(e)}else $(".postprofile_preview").attr("src",base_url+"assets/images/addimgbg.jpg")});$("#reelprofile_upload").change(function(){var e=this.files[0];if(e){var a=new FileReader;a.onload=function(e){$(".reelprofile_preview").attr("src",e.target.result)};a.readAsDataURL(e)}else $(".reelprofile_preview").attr("src",base_url+"assets/images/addimgbg.jpg")});function resetForm(){var e=$("#js_data").data("base_url");$('#chat_modal input[type="text"], #chat_modal input[type="file"], #chat_modal textarea').val("");$("#chat_modal #msg_seen").prop("checked",!1);$("#chat_modal #msg_like").prop("checked",!1);$("#chat_modal #chat_date").prop("selected",!1);$("#chat_modal #chat_date option:eq(0)").prop("selected",!1);$("#chat_modal #postprofile_upload, #postimage_upload, #reelimage_upload,#chat_modal #reelprofile_upload").parents("label").find("img").attr("src",e+"assets/images/addimgbg.jpg");$(".file-preview").html("");$(".file-preview").hide();$("#chat_modal .nav-tabs .nav-item,#chat_modal .nav-tabs .nav-item .nav-link").removeClass("active");$("#chat_modal .nav-tabs .nav-item:eq(0), #chat_modal .nav-tabs .nav-item:eq(0) .nav-link").addClass("active");$("#chat_modal .tab-content .tab-pane").removeClass("active in").addClass("fade");$("#chat_modal .tab-content #text_msg").addClass("active in").removeClass("fade");$("#chat_modal #verifyprofle").prop("checked",!1);$("#chat_modal #multiplepost").prop("checked",!1);$("#chat_modal #rverifyprofle").prop("checked",!1);$("#chat_date").val("None");$(".post-tab,.post-tab-link,.videos-tab,.videos-tab-link").show();$(".temp-reply-box").html("");$(".temp-reply-box").addClass("d-none");$(".file-preview-opt").hide();$(".message-date-input").hide();jQuery(".hidden-message-image").val("");if("close"==$(".main-modal-div").data("mode")){$("body").addClass("body-fixed");$(".main-modal-div").data("mode","open").show()}$("html, body").animate({scrollTop:$(".insta-chat").offset().top},500)}function postprofilename(){var e=$("#postprofilename").val();if(16<e.length){var a=e.substr(0,15);$("#postprofilename").val(a)}else $("#postprofilename").val(e)}function reelprofiletext(){var e=$("#reelprofiletext").val();if(12<e.length){var a=e.substr(0,11)+"...";$("#reelprofiletext").val(a)}else $("#reelprofiletext").val(e)}$("#d_sim").click(function(){$("input#d_sim").is(":checked")?$(".network-two").removeClass("hide"):$(".network-two").addClass("hide")});$("#d_sim").click(function(){$("input#d_sim").is(":checked")?$(".phone-network").addClass("sim2"):$(".phone-network").removeClass("sim2")});$("#d_mode").click(function(){$("input#d_mode").is(":checked")?$(".insta-chat").addClass("dark-theme"):$(".insta-chat").removeClass("dark-theme")});$(".tab-button").click(function(){var e=$(this).data("tab");$(".tab-pane").removeClass("active");$(".tab-button").removeClass("active");$("#"+e).addClass("active");$(this).addClass("active")});function profilename_text(){var e=$(".profilename-input").val();if(15<e.length){var a=e.substr(0,15);$(".profilename-input").val(a)}else $(".profilename-input").val(e)}$(".close-btn").click(function(){$("body").removeClass("body-fixed");$(".main-modal-div").data("mode","close").hide();$(".preview-popup").hide()});$(".social-view-tab button").click(function(){if($(this).hasClass("lg-view")){$(".dp-view").addClass("show");$("#tab1").removeClass("active");$("#tab2").addClass("active");$("#setting-tab2").addClass("active")}else{$(".dp-view").removeClass("show");$("#setting-tab1").addClass("active");$("#tab1").addClass("active");$("#tab2").removeClass("active");$("#setting-tab2").removeClass("active")}});function replyMsg(e,a,s){$("#js_data").data("base-url");$text="text"==s?$(".instextmsg"+e+"-text").html():"photo"==s?"Photo":'<i class="fa fa-paperclip" aria-hidden="true"></i>Attachment';replyMsgText='<div class="fb-msg-reply" data-sender-type="'+a+'" data-t="'+s+'"><div class="reply-msg"><span>Replying to</span><p class="reply-msg-text">'+$text+"</p></div>";if("photo"==s){$img=$(".instextmsg"+e+"-image").attr("src");icon=$(".instextmsg"+e+"-icon").html();$icon=""!=icon&&null!=icon?'<div class="video-pause instextmsg'+e+'-icon">'+icon+"</div>":"";replyMsgText+='<div class="fb-reply-img"><img src="'+$img+'" alt="facebook Profile" class="fb_privew" loading="lazy">'+$icon+"</div>"}else"video"==s||"post"!=s&&"reel"!=s||(replyMsgText+='<div class="temp-reply-div">'+$(".caret-post-reel.post-"+e).html()+"</div>");replyMsgText+="</div>";$("#chat_modal").modal("show");resetForm();$(".temp-reply-box").html(replyMsgText);$(".temp-reply-box").removeClass("d-none");$(".post-tab,.post-tab-link,.videos-tab,.videos-tab-link").hide()}$("#preview").click(function(){$("body").addClass("body-fixed");$(this).attr("disabled","disabled");$html=($html=$("#download").html().replace(/\onclick/g,"data-onclick")).replace(/\data-target/g,"data-t");$("#preview-modal-content").html($html);jQuery("#preview-modal .fa.fa-pencil,#preview-modal .fa.fa-cloud-upload,#preview-modal .fa.fa-times-circle,#preview-modal .btn-remove").remove();$("#preview-modal").show()});$(".close-preview").click(function(){$("#preview-modal").hide();$("body").removeClass("body-fixed");$("#preview").removeAttr("disabled");$("#preview-modal-content").html("")});
